{
  config,
  lib,
  pkgs,
  ...
}: {
  options.packages.enable = lib.mkEnableOption "enable packages";

  config = lib.mkIf config.packages.enable {
    home.packages = with pkgs; let
      gcloud = google-cloud-sdk.withExtraComponents (with google-cloud-sdk.components; [
        gke-gcloud-auth-plugin
      ]);
    in
      [
        age
        ansible
        atac
        bitwarden
        cachix
        chromium
        coreutils-full
        csvlens
        curtail
        deluge
        discord
        drawing
        droidcam
        elixir
        evince
        exiftool
        fd
        ffmpegthumbnailer
        file
        file-roller
        filezilla
        findutils
        firefox
        gcc
        gcloud
        gcolor3
        gdal
        gdu
        gnome-tweaks
        gnumake
        gnused
        graphviz
        grex
        gzip
        hugo
        imagemagick
        infisical
        inkscape
        jdk
        jq
        kubectl
        kubernetes-helm
        libreoffice
        minikube
        mongosh
        nautilus
        obsidian
        parallel
        phockup
        plex
        podman-tui
        pop-launcher
        poppler
        portal
        postgresql
        python312
        qalculate-gtk
        quarto
        rar
        sshs
        syncthingtray
        tectonic
        terraform
        unar
        vagrant
        ventoy
        vlc
        wget
        zip
        zotero
      ]
      ++ (with nodePackages_latest; [
        nodejs
      ])
      ++ (with gnomeExtensions; [
        alphabetical-app-grid
        appindicator
        espresso
        pop-shell
        sound-output-device-chooser
        tailscale-qs
        user-themes
      ]);
  };
}
