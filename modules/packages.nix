{
  config,
  lib,
  pkgs,
  ...
}: {
  options.packages.enable = lib.mkEnableOption "enable packages";

  config = lib.mkIf config.packages.enable {
    home.packages = with pkgs; let
      gcloud = google-cloud-sdk.withExtraComponents (with google-cloud-sdk.components; [
        gke-gcloud-auth-plugin
      ]);
    in
      [
        age
        android-tools
        ansible
        bitwarden
        bitwarden-cli
        cachix
        chromium
        coreutils-full
        discord
        droidcam
        elixir
        exiftool
        fd
        ffmpegthumbnailer
        file
        findutils
        firefox
        gcc
        gcloud
        gdal
        gdu
        gnumake
        gnused
        go
        gparted
        graphviz
        gzip
        hugo
        imagemagick
        infisical
        inkscape
        jdk
        jq
        kdiff3
        krename
        krusader
        kubectl
        kubernetes-helm
        libreoffice
        livebook
        minikube
        mlocate
        mongosh
        ngrok
        obsidian
        p7zip
        parallel
        phockup
        plex
        podman-tui
        poppler
        portal
        postgresql
        protonvpn-gui
        python312
        qalculate-qt
        quarto
        qview
        rar
        scrcpy
        sqlite
        sshs
        syncthingtray
        tectonic
        terraform
        unar
        unzip
        uv
        vagrant
        ventoy
        vlc
        wget
        zip
        zotero
      ]
      ++ (with nodePackages_latest; [
        nodejs
      ])
      ++ (with kdePackages; [
        konqueror
        krohnkite
        kscreen
        okular
        spectacle
        kget
        ktorrent
      ]);
  };
}
