---
root-markers:
  - .git/

tools:
  alejandra: &alejandra
    format-command: "alejandra -"
    format-stdin: true
  ruff: &ruff
    format-command: "ruff check --fix-only --no-cache --stdin-filename '${INPUT}'"
    format-stdin: true
    root-markers:
      - .ruff.toml
      - environment.yaml
      - pyproject.toml
      - requirements.txt
      - setup.py
  shfmt: &shfmt
    format-command: "shfmt -filename '${INPUT}' -"
    format-stdin: true
  scalafmt: &scalafmt
    format-command: "scalafmt --stdin"
    format-stdin: true
  stylua: &stylua
    format-command: "stylua --color Never -"
    format-stdin: true
    root-markers:
      - .stylua.toml
      - stylua.toml
  taplo: &taplo
    format-command: "taplo format -"
    format-stdin: true
  prettier: &prettier
    format-command: "prettier --stdin --stdin-filepath '${INPUT}' ${--tab-width:tabSize} ${--use-tabs:!insertSpaces}"
    format-stdin: true
    root-markers:
      - .prettierrc
      - .prettierrc.json
      - .prettierrc.toml
      - .prettierrc.yaml
  latex-indent: &latex-indent
    format-command: "latexindent.pl -g /dev/null -"
    format-stdin: true
  ansible-lint: &ansible-lint
    lint-commant: "ansible-lint --nocolor -"
    lint-source: "ansible-lint"
    lint-stdin: true
    lint-formats:
      - "stdin:%l:%c [%tRROR]: %m"
      - "stdin:%l:%c [%tARNING]: %m"
    root-markers:
      - ".ansible-lint"
  shellcheck: &shellcheck
    lint-command: "shellcheck --color=never --format gcc -"
    lint-ignore-exit-code: true
    lint-source: "shellcheck"
    lint-stdin: true
    lint-formats:
      - "%f:%l:%c: %trror: %m"
      - "%f:%l:%c: %tarning: %m"
      - "%f:%l:%c: %tote: %m"
  statix: &statix
    lint-command: "statix check --stdin --format=errfmt"
    lint-ignore-exit-code: true
    lint-source: "statix"
    lint-stdin: true
    lint-formats:
      - "<stdin>>%l:%c:%t:%n:%m"
    root-markers:
      - default.nix
      - flake.nix
      - shell.nix

languages:
  ansible:
    - <<: *ansible-lint
  json:
    - <<: *prettier
  lua:
    - <<: *stylua
  markdown:
    - <<: *prettier
  nix:
    - <<: *alejandra
    - <<: *statix
  python:
    - <<: *ruff
  scala:
    - <<: *scalafmt
  sh:
    - <<: *shellcheck
    - <<: *shfmt
  toml:
    - <<: *taplo
  yaml:
    - <<: *prettier
  tex:
   - <<: *latex-indent
